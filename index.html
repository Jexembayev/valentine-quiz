<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ë–ª–∏—Ü-–∏–≥—Ä–∞ üíå</title>

  <style>
    :root{
      --bg:#170810;         /* –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω */
      --bg2:#2b0d1b;        /* –≤—Ç–æ—Ä–æ–π —Ç–æ–Ω */
      --card:#2a0f1e;       /* –∫–∞—Ä—Ç–æ—á–∫–∞ */
      --line:#5a1c38;       /* –ª–∏–Ω–∏–∏/–±–æ—Ä–¥–µ—Ä—ã */
      --muted:#f2b7c9;      /* –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
      --text:#fff0f6;       /* –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
      --accent:#ff4d8d;     /* –∞–∫—Ü–µ–Ω—Ç */
      --accent2:#ffd1dc;    /* –≤—Ç–æ—Ä–æ–π –∞–∫—Ü–µ–Ω—Ç */
      --shadow: rgba(0,0,0,.35);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Inter,Roboto,Arial,sans-serif;
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;

      /* —Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ã–π —Ñ–æ–Ω */
      background:
        radial-gradient(900px 600px at 18% 0%, rgba(255,77,141,.35) 0%, rgba(23,8,16,1) 58%) fixed,
        radial-gradient(700px 520px at 90% 80%, rgba(255,209,220,.18) 0%, rgba(23,8,16,0) 60%) fixed;
    }

    /* –ª—ë–≥–∫–∏–µ ‚Äú–∏—Å–∫—Ä—ã/—Å–µ—Ä–¥–µ—á–∫–∏‚Äù –Ω–∞ —Ñ–æ–Ω–µ */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      pointer-events:none;
      opacity:.22;
      background-image:
        radial-gradient(circle at 12% 18%, rgba(255,255,255,.10) 0 2px, transparent 3px),
        radial-gradient(circle at 78% 22%, rgba(255,255,255,.10) 0 2px, transparent 3px),
        radial-gradient(circle at 30% 72%, rgba(255,255,255,.08) 0 2px, transparent 3px),
        radial-gradient(circle at 88% 78%, rgba(255,255,255,.08) 0 2px, transparent 3px),
        radial-gradient(circle at 55% 45%, rgba(255,209,220,.10) 0 2px, transparent 3px);
      background-size: 220px 220px;
      filter: blur(.2px);
    }

    .app{ width:min(720px,100%); }

    .top{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:14px;
    }

    .brand{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .heart{
      width:38px; height:38px;
      border-radius:14px;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      display:grid;
      place-items:center;
      box-shadow:0 12px 34px rgba(255,77,141,.26);
      font-size:18px;
      border:1px solid rgba(255,255,255,.10);
    }

    .title{ font-weight:900; letter-spacing:.2px; }
    .subtitle{ color:var(--muted); font-size:13px; margin-top:2px; }

    .pill{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      backdrop-filter: blur(6px);
    }

    .card{
      background: rgba(42,15,30,.88);
      border:1px solid rgba(90,28,56,.90);
      border-radius:22px;
      box-shadow: 0 20px 60px var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(10px);
    }

    .progressWrap{ padding:14px 18px 0 18px; }

    .progressBar{
      height:10px;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
    }

    .progressFill{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      border-radius:999px;
      transition: width .35s ease;
    }

    .qMeta{
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
      margin:14px 0 6px;
      color:var(--muted);
      font-size:12px;
    }

    .cardInner{ padding:18px; }

    .question{
      font-size:18px;
      font-weight:900;
      line-height:1.25;
      margin:0 0 12px;
      text-shadow: 0 1px 0 rgba(0,0,0,.25);
    }

    .answers{ display:grid; gap:10px; }

    button.choice{
      width:100%;
      text-align:left;
      padding:12px 12px;
      border-radius:16px;
      background: rgba(255,255,255,.05);
      border:1px solid rgba(255,255,255,.10);
      color:var(--text);
      font-size:14px;
      cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
    }
    button.choice:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,209,220,.35);
    }
    button.choice:active{ transform: translateY(1px); }

    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:14px;
    }

    .btn{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      color:var(--text);
      padding:10px 12px;
      border-radius:16px;
      cursor:pointer;
      font-weight:800;
      font-size:13px;
      transition: background .2s ease, transform .06s ease, border-color .2s ease;
    }
    .btn:hover{
      background: rgba(255,255,255,.08);
      border-color: rgba(255,209,220,.30);
    }
    .btn:active{ transform: translateY(1px); }

    .btnDanger{
      border-color: rgba(255,77,141,.35);
      color: #ffd1dc;
    }

    .btnPrimary{
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      border:0;
      color:#2a0f1e;
      box-shadow: 0 16px 40px rgba(255,77,141,.24);
    }
    .btnPrimary:hover{ filter: brightness(1.03); }

    .hint{
      color:var(--muted);
      font-size:12px;
      line-height:1.4;
      margin:10px 0 0;
    }

    .hidden{ display:none !important; }

    /* Finish / envelope */
    .finish{ padding:18px; }

    .finishTitle{
      font-size:18px;
      font-weight:950;
      margin:0 0 8px;
    }

    textarea{
      width:100%;
      min-height:90px;
      resize:vertical;
      border-radius:16px;
      padding:10px 12px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color:var(--text);
      outline:none;
    }
    textarea:focus{
      border-color: rgba(255,209,220,.40);
      box-shadow: 0 0 0 4px rgba(255,77,141,.12);
    }

    .envList{ margin:12px 0 0; display:grid; gap:10px; }

    .item{
      border:1px dashed rgba(255,209,220,.28);
      background: rgba(255,255,255,.03);
      border-radius:18px;
      padding:10px 12px;
    }
    .itemQ{ font-size:13px; font-weight:900; margin:0 0 4px; }
    .itemA{ font-size:13px; color:var(--muted); margin:0; }

    .small{ font-size:12px; color:var(--muted); }

    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform:translateX(-50%);
      background: rgba(42,15,30,.95);
      border:1px solid rgba(255,255,255,.10);
      color:var(--text);
      padding:10px 12px;
      border-radius:16px;
      font-size:13px;
      display:none;
      box-shadow: 0 18px 40px var(--shadow);
      backdrop-filter: blur(10px);
    }

    .tgTip{
      margin-top:10px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      color:var(--muted);
      font-size:12px;
      line-height:1.45;
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="top">
      <div class="brand">
        <div class="heart">üíò</div>
        <div>
          <div class="title">–ë–ª–∏—Ü-–∏–≥—Ä–∞ –Ω–∞ 14 —Ñ–µ–≤—Ä–∞–ª—è</div>
          <div class="subtitle">–í—ã–±–∏—Ä–∞–π –≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ</div>
        </div>
      </div>
      <div class="pill" id="modePill">–∫–∞—Ä—Ç–æ—á–∫–∏</div>
    </div>

    <div class="card" role="application" aria-label="Valentine quiz">
      <div class="progressWrap">
        <div class="progressBar" aria-hidden="true"><div class="progressFill" id="progressFill"></div></div>
        <div class="qMeta">
          <div id="qCount">–í–æ–ø—Ä–æ—Å 1/12</div>
          <div id="qTag">—Å–µ–∫—Ä–µ—Ç–Ω–æ ü§´</div>
        </div>
      </div>

      <!-- SCREEN: QUESTIONS -->
      <div class="cardInner" id="quizScreen">
        <h2 class="question" id="questionText"></h2>
        <div class="answers" id="answers"></div>

        <div class="row">
          <button class="btn" id="backBtn" type="button">‚Üê –ù–∞–∑–∞–¥</button>
          <button class="btn btnDanger" id="resetBtn" type="button">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>

        <p class="hint" id="hintText">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ—Ç–≤–µ—á–∞–π –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞ üòÑ</p>
      </div>

      <!-- SCREEN: FINISH -->
      <div class="finish hidden" id="finishScreen">
        <h2 class="finishTitle">–ö–æ–Ω–≤–µ—Ä—Ç–∏–∫ –≥–æ—Ç–æ–≤ ‚úâÔ∏è</h2>
        <div class="small" id="finishMeta"></div>

        <div style="margin-top:12px;">
          <div class="small" style="margin-bottom:6px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</div>
          <textarea id="note" placeholder="–ù–∞–ø–∏—à–∏ –ø–∞—Ä—É —Å—Ç—Ä–æ–∫‚Ä¶"></textarea>
        </div>

        <div class="envList" id="envList"></div>

        <div class="row" style="margin-top:14px;">
          <button class="btn btnPrimary" id="copyBtn" type="button">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
          <button class="btn" id="restartBtn" type="button">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
        </div>

        <div class="tgTip">
          <b>–ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram:</b><br/>
          1) –ù–∞–∂–º–∏ <b>‚Äú–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã‚Äù</b><br/>
          2) –û—Ç–∫—Ä–æ–π —á–∞—Ç —Å –ø–∞—Ä–Ω–µ–º –≤ Telegram<br/>
          3) –í—Å—Ç–∞–≤—å (–¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí ‚Äú–í—Å—Ç–∞–≤–∏—Ç—å‚Äù) –∏ –æ—Ç–ø—Ä–∞–≤—å üíô
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>
  </div>

  <script>
    const QUESTIONS = [
  {
    tag: "–§–æ—Ä–º–∞—Ç",
    q: "–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç 14 —Ñ–µ–≤—Ä–∞–ª—è —Ç–µ–±–µ –±–æ–ª—å—à–µ –Ω—Ä–∞–≤–∏—Ç—Å—è?",
    a: [
      "–û–¥–∏–Ω –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–π –¥–µ–Ω—å –∏ –≤–µ—á–µ—Ä–æ–º –¥–æ–º–æ–π",
      "–õ—É—á—à–µ —Å –Ω–æ—á—ë–≤–∫–æ–π, –µ—Å–ª–∏ –Ω–∞–π–¥—ë–º –∫–ª–∞—Å—Å–Ω–æ–µ –º–µ—Å—Ç–æ",
      "–ú–Ω–µ –≤—Å—ë —Ä–∞–≤–Ω–æ ‚Äî –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–æ"
    ]
  },
  {
    tag: "–£—Ä–æ–≤–µ–Ω—å —Å—é—Ä–ø—Ä–∏–∑–∞",
    q: "–•–æ—á–µ—à—å, —á—Ç–æ–±—ã —ç—Ç–æ –±—ã–ª —Å—é—Ä–ø—Ä–∏–∑, –∏–ª–∏ –ª—É—á—à–µ –æ–±—Å—É–¥–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ?",
    a: [
      "–°—é—Ä–ø—Ä–∏–∑ ‚Äî –æ–±–æ–∂–∞—é",
      "–ß—É—Ç—å-—á—É—Ç—å —Å—é—Ä–ø—Ä–∏–∑–∞, –Ω–æ –±–µ–∑ —Ä–∏—Å–∫–∞",
      "–õ—É—á—à–µ –≤—Å—ë –æ–±—Å—É–¥–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ"
    ]
  },
  {
    tag: "SPA",
    q: "–ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–µ–±–µ —Ö–æ—á–µ—Ç—Å—è SPA/—Ç–µ—Ä–º—ã –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å?",
    a: [
      "–û—á–µ–Ω—å —Ö–æ—á—É ‚Äî must have",
      "–ú–æ–∂–Ω–æ, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ",
      "–ù–µ —Ö–æ—á—É SPA"
    ]
  },
  {
    tag: "SPA-—Å—Ç–∏–ª—å",
    q: "–ï—Å–ª–∏ SPA ‚Äî —á—Ç–æ —Ç–µ–±–µ –ø—Ä–∏—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ?",
    a: [
      "–¢–µ—Ä–º—ã/–±–∞—Å—Å–µ–π–Ω",
      "–•–∞–º–º–∞–º/—Å–∞—É–Ω—ã",
      "–ú–∞—Å—Å–∞–∂",
      "–ü—Ä–æ—Å—Ç–æ —Ç–∏—à–∏–Ω–∞ + —Ä–µ–ª–∞–∫—Å-–∑–æ–Ω–∞/—á–∞–π"
    ]
  },
  {
    tag: "–ó–∏–º–∞",
    q: "–•–æ—á–µ—Ç—Å—è –∑–∏–º–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—á—É—Ç—å —Å–ø–æ—Ä—Ç–∞) –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Ä–µ–ª–∞–∫—Å?",
    a: [
      "–•–æ—á—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å + –ø–æ—Ç–æ–º —Ä–µ–ª–∞–∫—Å",
      "–ú–æ–∂–Ω–æ –Ω–µ–º–Ω–æ–≥–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –Ω–æ –ª–∞–π—Ç–æ–≤–æ",
      "–¢–æ–ª—å–∫–æ —Ä–µ–ª–∞–∫—Å, –±–µ–∑ —Å–ø–æ—Ä—Ç–∞"
    ]
  },
  {
    tag: "–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
    q: "–ï—Å–ª–∏ –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –∑–∏–º–Ω—é—é —à—Ç—É–∫—É ‚Äî —á—Ç–æ –±–ª–∏–∂–µ?",
    a: [
      "–õ—ã–∂–∏/—Å–Ω–æ—É–±–æ—Ä–¥ (—Å–∫–ª–æ–Ω)",
      "–ö–æ–Ω—å–∫–∏ (–∫–∞—Ç–æ–∫)",
      "–°–Ω–µ–≥–æ—Ö–æ–¥/—Ç—é–±–∏–Ω–≥/—á—Ç–æ-—Ç–æ —ç–∫—Å—Ç—Ä–∏–º-–ª–∞–π—Ç",
      "–ü—Ä–æ—Å—Ç–æ –∑–∏–º–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞ + —Ñ–æ—Ç–∫–∏"
    ]
  },
  {
    tag: "–ü—Ä–∏—Ä–æ–¥–∞",
    q: "–•–æ—á–µ—Ç—Å—è –ø—Ä–∏—Ä–æ–¥—ã/–ø–æ–≥—É–ª—è—Ç—å, –∏–ª–∏ –ª—É—á—à–µ –±–µ–∑ —É–ª–∏—Ü—ã?",
    a: [
      "–•–æ—á—É –ø–æ–≥—É–ª—è—Ç—å –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ",
      "–ù–µ–º–Ω–æ–≥–æ –º–æ–∂–Ω–æ (30‚Äì60 –º–∏–Ω—É—Ç)",
      "–õ—É—á—à–µ –±–µ–∑ —É–ª–∏—Ü—ã"
    ]
  },
  {
    tag: "–ñ–∏–≤–æ—Ç–Ω—ã–µ",
    q: "–ö–∞–∫ —Ç–µ–±–µ –∏–¥–µ—è: –∂–∏–≤–æ—Ç–Ω—ã–µ (–∑—É–±—Ä—ã/—Ñ–µ—Ä–º–∞/–º–∏–Ω–∏-–∑–æ–æ–ø–∞—Ä–∫) –∫–∞–∫ —á–∞—Å—Ç—å –¥–Ω—è?",
    a: [
      "–î–∞! —ç—Ç–æ –º–∏–ª–æ –∏ —Ö–æ—á—É",
      "–ú–æ–∂–Ω–æ, –Ω–æ –Ω–µ–¥–æ–ª–≥–æ",
      "–ù–µ –Ω–∞–¥–æ, –Ω–µ –º–æ—ë"
    ]
  },
  {
    tag: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ",
    q: "–•–æ—á–µ—Ç—Å—è —á—Ç–æ-—Ç–æ ‚Äò—Å–¥–µ–ª–∞—Ç—å —Ä—É–∫–∞–º–∏‚Äô/–Ω–µ–æ–±—ã—á–Ω–æ–µ –≤–º–µ—Å—Ç–µ?",
    a: [
      "–î–∞! –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å/—á—Ç–æ-—Ç–æ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–µ",
      "–ú–æ–∂–Ω–æ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ–¥–æ–ª–≥–æ",
      "–ù–µ —Ö–æ—á—É, –ª—É—á—à–µ –ø—Ä–æ—Å—Ç–æ –æ—Ç–¥—ã—Ö–∞—Ç—å"
    ]
  },
  {
    tag: "–¢–∏–ø ‚Äò–Ω–µ–æ–±—ã—á–Ω–æ–≥–æ‚Äô - —Å–∫–∞–º –∫–æ–Ω–µ—á–Ω–æ",
    q: "–ï—Å–ª–∏ –Ω–µ–æ–±—ã—á–Ω–æ–µ ‚Äî —á—Ç–æ –ø—Ä–∏—è—Ç–Ω–µ–µ?",
    a: [
      "–ì–æ–Ω—á–∞—Ä–∫–∞/–∫–µ—Ä–∞–º–∏–∫–∞",
      "–ö—É–ª–∏–Ω–∞—Ä–Ω—ã–π –º–∏–Ω–∏-–º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å",
      "–ö–≤–µ—Å—Ç/–Ω–∞—Å—Ç–æ–ª–∫–∏/–∏–≥—Ä–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç",
      "–°–µ–∫—Å —Å –†—É—Å–µ—á–∫–æ–π"
    ]
  },
  {
    tag: "–¢–µ–º–ø",
    q: "–ö–∞–∫–æ–π —Ç–µ–º–ø –¥–Ω—è —Ç–µ–±–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ?",
    a: [
      "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–Ω–æ, –±–µ–∑ —Å–ø–µ—à–∫–∏",
      "–°–º–µ—à–∞–Ω–Ω—ã–π: —á–∏–ª + 1 –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å",
      "–î–≤–∏–∂–æ–≤—ã–π –¥–µ–Ω—å: –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–æ—á–µ–∫/–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π"
    ]
  },
  {
    tag: "–î–æ—Ä–æ–≥–∞",
    q: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥–æ—Ä–æ–≥–µ —Ç–µ–±–µ –æ–∫?",
    a: [
      "–î–æ 1 —á–∞—Å–∞ –≤ –æ–¥–Ω—É —Å—Ç–æ—Ä–æ–Ω—É",
      "–î–æ 2 —á–∞—Å–æ–≤ –æ–∫",
      "–ú–æ–∂–Ω–æ –∏ –¥–∞–ª—å—à–µ, –µ—Å–ª–∏ –º–µ—Å—Ç–æ —Ç–æ–ø"
    ]
  },
  {
    tag: "–ï–¥–∞ –≤–µ—á–µ—Ä–æ–º",
    q: "–ü—Ä–æ –≤–µ—á–µ—Ä–Ω–∏–π —É–∂–∏–Ω: –∫–∞–∫ —Ç–µ–±–µ —Ö–æ—á–µ—Ç—Å—è?",
    a: [
      "–î–æ–º–∞ –≥–æ—Ç–æ–≤–∏–º –≤–º–µ—Å—Ç–µ",
      "–î–æ–º–∞, –Ω–æ –ª—É—á—à–µ –∑–∞–∫–∞–∑–∞—Ç—å/–≥–æ—Ç–æ–≤–æ–µ",
      "–•–æ—á—É –∫—É–¥–∞-—Ç–æ –≤—ã–π—Ç–∏ (—Ä–µ—Å—Ç–æ—Ä–∞–Ω/–±–∞—Ä)",
      "–°—é—Ä–ø—Ä–∏–∑ ‚Äî —Ä–µ—à–∞–π —Ç—ã"
    ]
  },
  {
    tag: "–°—Ç–æ–ø-—Ñ–∞–∫—Ç–æ—Ä—ã",
    q: "–ß—Ç–æ —Ç–æ—á–Ω–æ –ù–ï —Ö–æ—á–µ—Ç—Å—è –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å?",
    a: [
      "–¢–æ–ª–ø—ã/–æ—á–µ—Ä–µ–¥–∏",
      "–î–æ–ª–≥–∞—è –¥–æ—Ä–æ–≥–∞",
      "–•–æ–ª–æ–¥/—É–ª–∏—Ü–∞",
      "SPA/–±–∞—Å—Å–µ–π–Ω—ã",
      "–†–µ—Å—Ç–æ—Ä–∞–Ω",
      "–ì–æ—Ç–æ–≤–∫–∞"
    ]
  },
  {
    tag: "–í–æ–æ–±—â–µ",
    q: "–ê –≤–æ–æ–±—â–µ –≤—ã –ª—é–±–∏—Ç–µ –†—É—Å–∏—á–∫—É?",
    a: [
      "–î–∞",
      "–û—á–µ–Ω—å –¥–∞",
      "–°–∏–ª—å–Ω–æ –¥–∞",
      "–ù–µ –∑–Ω–∞—é —á—Ç–æ –æ—Ç–≤–µ—Ç–∏—Ç—å, –≤—Å–µ–≥–¥–∞ –¥—É–º–∞—é –æ –Ω–µ–º",
      "–ñ–∏—Ç—å –±–µ–∑ –Ω–µ–≥–æ –Ω–µ –º–æ–≥—É",
      "–Ω–µ —Å–∫–∞–º, –ª—É—á—à–µ –±—ã –ú–∏—Ä–∞—Å–∞ –≤—ã–±—Ä–∞–ª–∞"
    ]
  }
];


    const state = {
      idx: 0,
      answers: Array(QUESTIONS.length).fill(null),
      startedAt: new Date().toISOString()
    };

    const el = (id) => document.getElementById(id);

    const questionText = el("questionText");
    const answersBox = el("answers");
    const qCount = el("qCount");
    const qTag = el("qTag");
    const progressFill = el("progressFill");
    const modePill = el("modePill");

    const quizScreen = el("quizScreen");
    const finishScreen = el("finishScreen");
    const envList = el("envList");
    const finishMeta = el("finishMeta");

    const backBtn = el("backBtn");
    const resetBtn = el("resetBtn");
    const copyBtn = el("copyBtn");
    const restartBtn = el("restartBtn");

    const toast = el("toast");

    function showToast(text){
      toast.textContent = text;
      toast.style.display = "block";
      setTimeout(()=>toast.style.display="none", 1400);
    }

    function answeredCount(){
      return state.answers.filter(Boolean).length;
    }

    function render(){
      const total = QUESTIONS.length;
      const qObj = QUESTIONS[state.idx];

      modePill.textContent = "–∫–∞—Ä—Ç–æ—á–∫–∏";
      qCount.textContent = `–í–æ–ø—Ä–æ—Å ${state.idx + 1}/${total}`;
      qTag.textContent = qObj.tag ? qObj.tag : "—Å–µ–∫—Ä–µ—Ç–Ω–æ ü§´";

      const pct = Math.round(((state.idx) / (total)) * 100);
      progressFill.style.width = `${pct}%`;

      questionText.textContent = qObj.q;

      answersBox.innerHTML = "";
      qObj.a.forEach((ansText) => {
        const b = document.createElement("button");
        b.className = "choice";
        b.type = "button";

        const chosen = (state.answers[state.idx] === ansText);

        // –ø–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ (—Ä–æ–∑–æ–≤–∞—è)
        b.style.borderColor = chosen ? "rgba(255,77,141,.75)" : "rgba(255,255,255,.10)";
        b.style.background  = chosen ? "rgba(255,77,141,.14)" : "rgba(255,255,255,.05)";
        b.textContent = ansText;

        b.onclick = () => {
          state.answers[state.idx] = ansText;

          if (state.idx < total - 1) {
            state.idx += 1;
            render();
          } else {
            progressFill.style.width = "100%";
            renderFinish();
          }
        };

        answersBox.appendChild(b);
      });

      backBtn.disabled = state.idx === 0;
      backBtn.style.opacity = backBtn.disabled ? 0.5 : 1;
    }

    function renderFinish(){
      quizScreen.classList.add("hidden");
      finishScreen.classList.remove("hidden");
      modePill.textContent = "–∫–æ–Ω–≤–µ—Ä—Ç";

      const total = QUESTIONS.length;
      const count = answeredCount();
      finishMeta.textContent = `${count}/${total} –æ—Ç–≤–µ—Ç–æ–≤ ‚Ä¢ ${new Date().toLocaleString("ru-RU")}`;

      envList.innerHTML = "";
      QUESTIONS.forEach((q, i) => {
        const item = document.createElement("div");
        item.className = "item";

        const pQ = document.createElement("p");
        pQ.className = "itemQ";
        pQ.textContent = `${i+1}. ${q.q}`;

        const pA = document.createElement("p");
        pA.className = "itemA";
        pA.textContent = `–û—Ç–≤–µ—Ç: ${state.answers[i] || "(–Ω–µ –≤—ã–±—Ä–∞–Ω–æ)"}`;

        item.appendChild(pQ);
        item.appendChild(pA);
        envList.appendChild(item);
      });

      showToast("–ì–æ—Ç–æ–≤–æ ‚úâÔ∏è");
      finishScreen.scrollIntoView({ behavior:"smooth", block:"start" });
    }

    function buildPrettyText(){
      const note = el("note").value.trim();
      let text = `üíå –ë–ª–∏—Ü-–æ—Ç–≤–µ—Ç—ã –Ω–∞ 14 —Ñ–µ–≤—Ä–∞–ª—è\n\n`;
      if (note) text += `–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:\n${note}\n\n`;
      text += `–û—Ç–≤–µ—Ç—ã:\n`;
      QUESTIONS.forEach((q, i) => {
        text += `${i+1}) [${q.tag}] ${q.q}\n‚Äî ${state.answers[i] || "(–Ω–µ –≤—ã–±—Ä–∞–Ω–æ)"}\n\n`;
      });
      return text.trim();
    }

    backBtn.onclick = () => {
      if (state.idx > 0) { state.idx -= 1; render(); }
    };

    resetBtn.onclick = () => {
      if (!confirm("–°–±—Ä–æ—Å–∏—Ç—å –æ—Ç–≤–µ—Ç—ã?")) return;
      state.idx = 0;
      state.answers = Array(QUESTIONS.length).fill(null);
      quizScreen.classList.remove("hidden");
      finishScreen.classList.add("hidden");
      el("note").value = "";
      render();
      showToast("–°–±—Ä–æ—à–µ–Ω–æ");
    };

    copyBtn.onclick = async () => {
      const text = buildPrettyText();
      try{
        await navigator.clipboard.writeText(text);
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ");
      }catch(e){
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ");
      }
    };

    restartBtn.onclick = () => {
      state.idx = 0;
      state.answers = Array(QUESTIONS.length).fill(null);
      el("note").value = "";
      quizScreen.classList.remove("hidden");
      finishScreen.classList.add("hidden");
      render();
      showToast("–ü–æ–µ—Ö–∞–ª–∏ –∑–∞–Ω–æ–≤–æ üôÇ");
    };

    render();
  </script>
</body>
</html>
