<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–ë–ª–∏—Ü-–∏–≥—Ä–∞ üíå</title>
  <style>
    :root {
  --bg:#180a12;      /* —Ñ–æ–Ω */
  --card:#2a0f1e;    /* –∫–∞—Ä—Ç–æ—á–∫–∞ */
  --muted:#f2b7c9;   /* –≤—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç */
  --text:#fff0f6;    /* –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç */
  --accent:#ff4d8d;  /* –∞–∫—Ü–µ–Ω—Ç (–∫–Ω–æ–ø–∫–∏/–ø—Ä–æ–≥—Ä–µ—Å—Å) */
  --line:#5a1c38;    /* –ª–∏–Ω–∏–∏/–±–æ—Ä–¥–µ—Ä—ã */}
    *{ box-sizing:border-box; }
    body{
      margin:0; font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Inter,Roboto,Arial,sans-serif;
      background:radial-gradient(900px 600px at 20% 0%, rgba(255,77,141,.35) 0%, rgba(24,10,18,1) 55%) fixed;
      color:var(--text); min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px;
    }
    .app{ width:min(720px,100%); }
    .top{ display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:14px; }
    .brand{ display:flex; gap:10px; align-items:center; }
    .heart{
      width:36px; height:36px; border-radius:12px;
      background: linear-gradient(135deg, #ff4d7d, #ffb86b);
      display:grid; place-items:center; box-shadow:0 10px 30px rgba(255,77,125,.25);
      font-size:18px;
    }
    .title{ font-weight:800; letter-spacing:.2px; }
    .subtitle{ color:var(--muted); font-size:13px; margin-top:2px; }
    .pill{
      border:1px solid var(--line); background: rgba(255,255,255,.04);
      padding:8px 10px; border-radius:999px; font-size:12px; color:var(--muted);
    }
    .card{
      background: rgba(18,26,41,.88);
      border:1px solid rgba(36,49,74,.9);
      border-radius:20px;
      box-shadow: 0 20px 60px rgba(0,0,0,.35);
      overflow:hidden;
    }
    .progressWrap{ padding:14px 18px 0 18px; }
    .progressBar{
      height:10px; border-radius:999px; background: rgba(255,255,255,.06); border:1px solid rgba(36,49,74,.8);
      overflow:hidden;
    }
    .progressFill{
      height:100%; width:0%;
      background: linear-gradient(90deg, var(--accent), #ffb86b);
      border-radius:999px;
      transition: width .35s ease;
    }
    .qMeta{
      display:flex; gap:10px; align-items:center; justify-content:space-between; margin:14px 0 6px;
      color:var(--muted); font-size:12px;
    }
    .cardInner{ padding:18px; }
    .question{ font-size:18px; font-weight:800; line-height:1.25; margin:0 0 12px; }
    .answers{ display:grid; gap:10px; }
    button.choice{
      width:100%; text-align:left;
      padding:12px 12px;
      border-radius:14px;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(36,49,74,.9);
      color:var(--text);
      font-size:14px;
      cursor:pointer;
      transition: transform .06s ease, background .2s ease, border-color .2s ease;
    }
    button.choice:hover{ background: rgba(255,255,255,.07); }
    button.choice:active{ transform: translateY(1px); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; margin-top:14px; }
    .btn{
      border:1px solid rgba(36,49,74,.9);
      background: rgba(255,255,255,.04);
      color:var(--text);
      padding:10px 12px; border-radius:14px; cursor:pointer; font-weight:700; font-size:13px;
      transition: background .2s ease, transform .06s ease;
    }
    .btn:hover{ background: rgba(255,255,255,.07); }
    .btn:active{ transform: translateY(1px); }
    .btnDanger{ border-color: rgba(255,77,125,.45); color: #ff9ab2; }
    .btnPrimary{
      background: linear-gradient(135deg, #ff4d7d, #ffb86b);
      border:0;
      color:#1a0d12;
      box-shadow: 0 16px 40px rgba(255,77,125,.25);
    }
    .hint{ color:var(--muted); font-size:12px; line-height:1.4; margin:10px 0 0; }
    .hidden{ display:none !important; }

    /* Finish / envelope */
    .finish{
      padding:18px;
    }
    .finishTitle{ font-size:18px; font-weight:900; margin:0 0 8px; }
    textarea{
      width:100%; min-height:90px; resize:vertical;
      border-radius:14px; padding:10px 12px;
      border:1px solid rgba(36,49,74,.9);
      background: rgba(255,255,255,.03); color:var(--text);
      outline:none;
    }
    .envList{ margin:12px 0 0; display:grid; gap:10px; }
    .item{
      border:1px dashed rgba(142,160,183,.35);
      background: rgba(255,255,255,.03);
      border-radius:16px;
      padding:10px 12px;
    }
    .itemQ{ font-size:13px; font-weight:800; margin:0 0 4px; }
    .itemA{ font-size:13px; color:var(--muted); margin:0; }
    .small{ font-size:12px; color:var(--muted); }
    .toast{
      position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background: rgba(18,26,41,.95); border:1px solid rgba(36,49,74,.9); color:var(--text);
      padding:10px 12px; border-radius:14px; font-size:13px; display:none;
      box-shadow: 0 18px 40px rgba(0,0,0,.35);
    }
    .tgTip{
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(36,49,74,.9);
      background: rgba(0,0,0,.18);
      color:var(--muted);
      font-size:12px;
      line-height:1.45;
    }
    body::before{
  content:"";
  position:fixed;
  inset:0;
  pointer-events:none;
  opacity:.20;
  background-image:
    radial-gradient(circle at 12% 18%, rgba(255,255,255,.10) 0 2px, transparent 3px),
    radial-gradient(circle at 78% 22%, rgba(255,255,255,.10) 0 2px, transparent 3px),
    radial-gradient(circle at 30% 72%, rgba(255,255,255,.08) 0 2px, transparent 3px),
    radial-gradient(circle at 88% 78%, rgba(255,255,255,.08) 0 2px, transparent 3px);
  background-size: 220px 220px;
  filter: blur(.2px);
}
  </style>
</head>

<body>
  <div class="app">
    <div class="top">
      <div class="brand">
        <div class="heart">üíå</div>
        <div>
          <div class="title">–ë–ª–∏—Ü-–∏–≥—Ä–∞ –Ω–∞ 14 —Ñ–µ–≤—Ä–∞–ª—è</div>
          <div class="subtitle">–í—ã–±–∏—Ä–∞–π –≤–∞—Ä–∏–∞–Ω—Ç—ã ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ</div>
        </div>
      </div>
      <div class="pill" id="modePill">–∫–∞—Ä—Ç–æ—á–∫–∏</div>
    </div>

    <div class="card" role="application" aria-label="Valentine quiz">
      <div class="progressWrap">
        <div class="progressBar" aria-hidden="true"><div class="progressFill" id="progressFill"></div></div>
        <div class="qMeta">
          <div id="qCount">–í–æ–ø—Ä–æ—Å 1/12</div>
          <div id="qTag">—Å–µ–∫—Ä–µ—Ç–Ω–æ ü§´</div>
        </div>
      </div>

      <!-- SCREEN: QUESTIONS -->
      <div class="cardInner" id="quizScreen">
        <h2 class="question" id="questionText"></h2>
        <div class="answers" id="answers"></div>

        <div class="row">
          <button class="btn" id="backBtn" type="button">‚Üê –ù–∞–∑–∞–¥</button>
          <button class="btn btnDanger" id="resetBtn" type="button">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>

        <p class="hint" id="hintText">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ—Ç–≤–µ—á–∞–π –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ. –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∏–≥—Ä–∞ üòÑ</p>
      </div>

      <!-- SCREEN: FINISH -->
      <div class="finish hidden" id="finishScreen">
        <h2 class="finishTitle">–ö–æ–Ω–≤–µ—Ä—Ç–∏–∫ –≥–æ—Ç–æ–≤ ‚úâÔ∏è</h2>
        <div class="small" id="finishMeta"></div>

        <div style="margin-top:12px;">
          <div class="small" style="margin-bottom:6px;">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</div>
          <textarea id="note" placeholder="–ù–∞–ø–∏—à–∏ –ø–∞—Ä—É —Å—Ç—Ä–æ–∫‚Ä¶"></textarea>
        </div>

        <div class="envList" id="envList"></div>

        <div class="row" style="margin-top:14px;">
          <button class="btn btnPrimary" id="copyBtn" type="button">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã</button>
          <button class="btn" id="restartBtn" type="button">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
        </div>

        <div class="tgTip">
          <b>–ö–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Telegram:</b><br/>
          1) –ù–∞–∂–º–∏ <b>‚Äú–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã‚Äù</b><br/>
          2) –û—Ç–∫—Ä–æ–π —á–∞—Ç —Å –ø–∞—Ä–Ω–µ–º –≤ Telegram<br/>
          3) –í—Å—Ç–∞–≤—å (–¥–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ ‚Üí ‚Äú–í—Å—Ç–∞–≤–∏—Ç—å‚Äù) –∏ –æ—Ç–ø—Ä–∞–≤—å üíô
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>
  </div>

  <script>
    const QUESTIONS = [
      { tag: "–ù–æ—á—ë–≤–∫–∞", q: "–•–æ—á–µ—à—å –Ω–æ—á–µ–≤–∞—Ç—å –Ω–µ –¥–æ–º–∞ (–µ—Å–ª–∏ –Ω–∞–π–¥—ë–º –∫–ª–∞—Å—Å–Ω–æ–µ –º–µ—Å—Ç–æ)?", a: ["–î–æ–º–æ–π –≤–µ—á–µ—Ä–æ–º", "–û–¥–Ω–∞ –Ω–æ—á—å", "–ó–∞–≤–∏—Å–∏—Ç –æ—Ç –º–µ—Å—Ç–∞"] },
      { tag: "–¢–µ–º–ø", q: "–ö–∞–∫–æ–π —Ç–µ–º–ø –¥–Ω—è —Ç–µ–±–µ –ø—Ä–∏—è—Ç–Ω–µ–µ?", a: ["–†–∞—Å—Å–ª–∞–±–æ–Ω (–º–∏–Ω–∏–º—É–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π)", "–°–º–µ—à–∞–Ω–Ω—ã–π (—á–∏–ª + —á—É—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π)", "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ (–¥–≤–∏–∂, –º–Ω–µ –æ–∫)"] },
      { tag: "SPA", q: "SPA –≤–æ–æ–±—â–µ —Ö–æ—á–µ—Ç—Å—è?", a: ["–û—á–µ–Ω—å —Ö–æ—á—É (must)", "–ù–æ—Ä–º, –µ—Å–ª–∏ –±—É–¥–µ—Ç", "–ù–µ —Ö–æ—á—É / –Ω–µ –ª—é–±–ª—é"] },
      { tag: "SPA-—Ç–∏–ø", q: "–ß—Ç–æ –∏–∑ SPA –±–æ–ª—å—à–µ —Ç–≤–æ—ë?", a: ["–ë–∞—Å—Å–µ–π–Ω/—Ç–µ—Ä–º—ã", "–•–∞–º–º–∞–º/—Å–∞—É–Ω—ã", "–ú–∞—Å—Å–∞–∂", "–ü—Ä–æ—Å—Ç–æ –ø–æ–ª–µ–∂–∞—Ç—å + —á–∞–π"] },
      { tag: "–ü—Ä–∏—Ä–æ–¥–∞", q: "–ñ–∏–≤–æ—Ç–Ω—ã–µ / –ø—Ä–∏—Ä–æ–¥–∞ ‚Äî –∑–∞—Ö–æ–¥–∏—Ç?", a: ["–î–∞! —Ö–æ—á—É", "–ú–æ–∂–Ω–æ, –Ω–æ –Ω–µ–¥–æ–ª–≥–æ", "–ù–µ –Ω–∞–¥–æ"] },
      { tag: "–õ–æ—à–∞–¥–∏", q: "–ö–∞–∫ –Ω–∞—Å—á—ë—Ç –ª–æ—à–∞–¥–µ–π?", a: ["–•–æ—á—É –ø—Ä–æ–≥—É–ª–∫—É/–ø–æ–∫–∞—Ç–∞—Ç—å—Å—è", "–¢–æ–ª—å–∫–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å/—Ñ–æ—Ç–æ", "–ù–µ –º–æ—ë"] },
      { tag: "–î–æ—Ä–æ–≥–∞", q: "–°–∫–æ–ª—å–∫–æ –µ—Ö–∞—Ç—å –∏–∑ –ú–æ—Å–∫–≤—ã ‚Äî –æ–∫?", a: ["–î–æ 1 —á–∞—Å–∞", "–î–æ 2 —á–∞—Å–æ–≤", "–•–æ—Ç—å –¥–∞–ª—å—à–µ, –µ—Å–ª–∏ —Ç–æ–ø"] },
      { tag: "–£–∂–∏–Ω", q: "–í–µ—á–µ—Ä–æ–º —á—Ç–æ –±–æ–ª—å—à–µ —Ö–æ—á–µ—Ç—Å—è?", a: ["–ì–æ—Ç–æ–≤–∏—Ç—å –≤–º–µ—Å—Ç–µ –¥–æ–º–∞", "–ó–∞–∫–∞–∑–∞—Ç—å / –≥–æ—Ç–æ–≤–æ–µ", "–†–µ—Å—Ç–æ—Ä–∞–Ω/–∫—É–¥–∞-—Ç–æ –≤—ã–π—Ç–∏", "–°—é—Ä–ø—Ä–∏–∑ ‚Äî —Ä–µ—à–∞–π —Ç—ã"] },
      { tag: "–ï–¥–∞", q: "–°—Ç–∏–ª—å –µ–¥—ã –Ω–∞ –≤–µ—á–µ—Ä?", a: ["–õ—ë–≥–∫–æ–µ –∏ –∫—Ä–∞—Å–∏–≤–æ–µ", "–°—ã—Ç–Ω–æ–µ –∏ –≤–∫—É—Å–Ω–æ–µ", "–î–æ–º–∞—à–Ω–µ–µ —É—é—Ç–Ω–æ–µ", "–ë–µ–∑ –∞–ª–∫–æ–≥–æ–ª—è"] },
      { tag: "–†–æ–º–∞–Ω—Ç–∏–∫–∞", q: "–ö–∞–∫–∞—è ‚Äú—Ä–æ–º–∞–Ω—Ç–∏–∫–∞‚Äù –±–ª–∏–∂–µ?", a: ["–¢–∏—Ö–æ –∏ –∫–∞–º–µ—Ä–Ω–æ", "–í–∞—É-—ç—Ñ—Ñ–µ–∫—Ç/–∫—Ä–∞—Å–∏–≤–æ", "–ò–≥—Ä–∏–≤–æ –∏ —Å–º–µ—à–Ω–æ"] },
      { tag: "–ë—é–¥–∂–µ—Ç", q: "–ö–∞–∫ –ø–æ –±—é–¥–∂–µ—Ç—É –∫–æ–º—Ñ–æ—Ä—Ç–Ω–µ–µ?", a: ["–°–∫—Ä–æ–º–Ω–æ", "–ö–æ–º—Ñ–æ—Ä—Ç–Ω–æ", "–ú–æ–∂–Ω–æ —Ä–∞–∑–º–∞—Ö–Ω—É—Ç—å—Å—è"] },
      { tag: "–°—Ç–æ–ø-—Å–ª–æ–≤–æ", q: "–ß—Ç–æ –¢–û–ß–ù–û –Ω–µ —Ö–æ—á–µ—Ç—Å—è –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å?", a: ["–¢–æ–ª–ø—ã", "–î–æ–ª–≥–∞—è –¥–æ—Ä–æ–≥–∞", "–•–æ–ª–æ–¥/—É–ª–∏—Ü–∞", "SPA", "–ñ–∏–≤–æ—Ç–Ω—ã–µ", "–†–µ—Å—Ç–æ—Ä–∞–Ω", "–ì–æ—Ç–æ–≤–∫–∞"] }
    ];

    const state = {
      idx: 0,
      answers: Array(QUESTIONS.length).fill(null),
      startedAt: new Date().toISOString()
    };

    const el = (id) => document.getElementById(id);

    const questionText = el("questionText");
    const answersBox = el("answers");
    const qCount = el("qCount");
    const qTag = el("qTag");
    const progressFill = el("progressFill");
    const modePill = el("modePill");

    const quizScreen = el("quizScreen");
    const finishScreen = el("finishScreen");
    const envList = el("envList");
    const finishMeta = el("finishMeta");

    const backBtn = el("backBtn");
    const resetBtn = el("resetBtn");
    const copyBtn = el("copyBtn");
    const restartBtn = el("restartBtn");

    const toast = el("toast");

    function showToast(text){
      toast.textContent = text;
      toast.style.display = "block";
      setTimeout(()=>toast.style.display="none", 1400);
    }

    function answeredCount(){
      return state.answers.filter(Boolean).length;
    }

    function render(){
      const total = QUESTIONS.length;
      const qObj = QUESTIONS[state.idx];

      modePill.textContent = "–∫–∞—Ä—Ç–æ—á–∫–∏";
      qCount.textContent = `–í–æ–ø—Ä–æ—Å ${state.idx + 1}/${total}`;
      qTag.textContent = qObj.tag ? qObj.tag : "—Å–µ–∫—Ä–µ—Ç–Ω–æ ü§´";

      const pct = Math.round(((state.idx) / (total)) * 100);
      progressFill.style.width = `${pct}%`;

      questionText.textContent = qObj.q;

      answersBox.innerHTML = "";
      qObj.a.forEach((ansText) => {
        const b = document.createElement("button");
        b.className = "choice";
        b.type = "button";
        const chosen = (state.answers[state.idx] === ansText);
        b.style.borderColor = chosen ? "rgba(255,77,125,.85)" : "rgba(36,49,74,.9)";
        b.style.background = chosen ? "rgba(255,77,125,.12)" : "rgba(255,255,255,.04)";
        b.textContent = ansText;

        b.onclick = () => {
          state.answers[state.idx] = ansText;

          if (state.idx < total - 1) {
            state.idx += 1;
            render();
          } else {
            progressFill.style.width = "100%";
            renderFinish();
          }
        };

        answersBox.appendChild(b);
      });

      backBtn.disabled = state.idx === 0;
      backBtn.style.opacity = backBtn.disabled ? 0.5 : 1;
    }

    function renderFinish(){
      quizScreen.classList.add("hidden");
      finishScreen.classList.remove("hidden");
      modePill.textContent = "–∫–æ–Ω–≤–µ—Ä—Ç";

      const total = QUESTIONS.length;
      const count = answeredCount();
      finishMeta.textContent = `${count}/${total} –æ—Ç–≤–µ—Ç–æ–≤ ‚Ä¢ ${new Date().toLocaleString("ru-RU")}`;

      envList.innerHTML = "";
      QUESTIONS.forEach((q, i) => {
        const item = document.createElement("div");
        item.className = "item";

        const pQ = document.createElement("p");
        pQ.className = "itemQ";
        pQ.textContent = `${i+1}. ${q.q}`;

        const pA = document.createElement("p");
        pA.className = "itemA";
        pA.textContent = `–û—Ç–≤–µ—Ç: ${state.answers[i] || "(–Ω–µ –≤—ã–±—Ä–∞–Ω–æ)"}`;

        item.appendChild(pQ);
        item.appendChild(pA);
        envList.appendChild(item);
      });

      showToast("–ì–æ—Ç–æ–≤–æ ‚úâÔ∏è");
      finishScreen.scrollIntoView({ behavior:"smooth", block:"start" });
    }

    function buildPrettyText(){
      const note = el("note").value.trim();
      let text = `üíå –ë–ª–∏—Ü-–æ—Ç–≤–µ—Ç—ã –Ω–∞ 14 —Ñ–µ–≤—Ä–∞–ª—è\n\n`;
      if (note) text += `–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:\n${note}\n\n`;
      text += `–û—Ç–≤–µ—Ç—ã:\n`;
      QUESTIONS.forEach((q, i) => {
        text += `${i+1}) [${q.tag}] ${q.q}\n‚Äî ${state.answers[i] || "(–Ω–µ –≤—ã–±—Ä–∞–Ω–æ)"}\n\n`;
      });
      return text.trim();
    }

    backBtn.onclick = () => {
      if (state.idx > 0) { state.idx -= 1; render(); }
    };

    resetBtn.onclick = () => {
      if (!confirm("–°–±—Ä–æ—Å–∏—Ç—å –æ—Ç–≤–µ—Ç—ã?")) return;
      state.idx = 0;
      state.answers = Array(QUESTIONS.length).fill(null);
      quizScreen.classList.remove("hidden");
      finishScreen.classList.add("hidden");
      el("note").value = "";
      render();
      showToast("–°–±—Ä–æ—à–µ–Ω–æ");
    };

    copyBtn.onclick = async () => {
      const text = buildPrettyText();
      try{
        await navigator.clipboard.writeText(text);
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ");
      }catch(e){
        // fallback
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
        showToast("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ");
      }
    };

    restartBtn.onclick = () => {
      state.idx = 0;
      state.answers = Array(QUESTIONS.length).fill(null);
      el("note").value = "";
      quizScreen.classList.remove("hidden");
      finishScreen.classList.add("hidden");
      render();
      showToast("–ü–æ–µ—Ö–∞–ª–∏ –∑–∞–Ω–æ–≤–æ üôÇ");
    };

    // init
    render();
  </script>
</body>
</html>
